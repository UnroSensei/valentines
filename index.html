<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Be My Valentine?</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Quicksand:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* --- GENERAL STYLES --- */
        :root {
            --bg-color: #880e4f; /* Deep romantic red */
            --paper-color: #fff0f5; /* Lavender blush */
            --pocket-color: #ff8fa3; /* Pink */
            --flap-color: #ff5c7c; /* Darker Pink */
            --accent-color: #d81b60;
        }

        html, body {
            height: 100%;
            width: 100%;
            margin: 0;
            padding: 0;
        }

        body {
            background-color: var(--bg-color);
            font-family: 'Quicksand', sans-serif;
            overflow: hidden; 
            color: #4a0e1c;
            position: relative;
        }

        /* --- CUTE SCROLLBARS --- */
        ::-webkit-scrollbar {
            width: 12px;
        }
        
        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.5);
            border-radius: 6px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--accent-color);
            border-radius: 6px;
            border: 3px solid var(--paper-color);
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #ad1457;
        }

        /* --- BACKGROUND PATTERN (Fixed Layering) --- */
        .bg-pattern {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1; /* Pushed to back */
            overflow: hidden;
            pointer-events: none; /* Clicks pass through */
        }

        .bg-icon {
            position: absolute;
            font-size: 3rem;
            color: transparent;
            -webkit-text-stroke: 1px rgba(255, 255, 255, 0.2);
            user-select: none;
            z-index: -1;
        }

        /* --- ENVELOPE WRAPPER (High Z-Index & Clickable) --- */
        #envelope-wrapper {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 9999; /* Top of the world */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer; /* Show hand cursor */
        }

        .envelope-container {
            position: relative;
            transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        #envelope-wrapper:hover .envelope-container {
            transform: scale(1.05);
        }

        .envelope {
            width: 350px;
            height: 240px;
            position: relative;
            background-color: var(--pocket-color); 
            box-shadow: 0 15px 35px rgba(0,0,0,0.4);
            border-radius: 5px;
            display: flex;
            justify-content: center;
        }

        .paper-preview {
            position: absolute;
            top: 50px; 
            width: 300px;
            height: 180px;
            background-color: var(--paper-color);
            z-index: 1; 
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Dancing Script', cursive;
            font-size: 2.5rem;
            color: var(--accent-color);
            border-radius: 5px;
            transition: transform 1s ease-in-out, z-index 0.5s;
        }

        .envelope-pocket {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 0;
            border-left: 175px solid transparent;
            border-right: 175px solid transparent;
            border-bottom: 140px solid var(--flap-color);
            z-index: 5; 
            border-bottom-left-radius: 5px;
            border-bottom-right-radius: 5px;
            pointer-events: none; /* Let clicks hit the wrapper */
        }

        .flap {
            position: absolute;
            top: 0;
            left: 0;
            width: 0;
            height: 0;
            border-left: 175px solid transparent;
            border-right: 175px solid transparent;
            border-top: 130px solid var(--pocket-color);
            transform-origin: top;
            transition: transform 0.6s ease-in-out, z-index 0.6s;
            z-index: 6; 
            pointer-events: none;
        }

        .flap::after {
            content: '‚ù§';
            position: absolute;
            top: -100px;
            left: -15px;
            font-size: 2rem;
            color: #d81b60;
            filter: drop-shadow(0 2px 2px rgba(0,0,0,0.2));
        }

        .envelope.open .flap {
            transform: rotateX(180deg);
            z-index: 0;
        }

        .envelope.open .paper-preview {
            transform: translateY(-200px) scale(1.1);
            z-index: 10;
        }

        .click-text {
            margin-top: 60px;
            font-family: 'Dancing Script', cursive;
            font-size: 2.5rem;
            color: rgba(255,255,255,0.9);
            animation: bounce 2s infinite;
            pointer-events: none;
            text-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {transform: translateY(0);}
            40% {transform: translateY(-10px);}
            60% {transform: translateY(-5px);}
        }

        /* --- SCREENS --- */
        .screen {
            display: none; 
            
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            
            width: 90%;
            max-width: 650px;
            height: 80vh; 
            max-height: 800px;
            
            background-color: var(--paper-color);
            background-image: radial-gradient(#ffccd5 15%, transparent 16%), radial-gradient(#ffccd5 15%, transparent 16%);
            background-size: 20px 20px;
            background-position: 0 0, 10px 10px;

            box-shadow: 0 0 40px rgba(0,0,0,0.5);
            padding: 30px;
            box-sizing: border-box;
            border-radius: 20px;
            border: 4px solid white;

            overflow-y: auto; 
            overscroll-behavior: contain; 
            z-index: 500; /* Below envelope initially, active boosts it */
            
            text-align: center;
            opacity: 0;
        }

        .screen.active {
            display: block;
            opacity: 1;
            z-index: 10000; /* Above everything when active */
            animation: popIn 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
        }

        .flex-center-content {
            display: flex !important;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            overflow: hidden; 
        }

        /* --- TIMELINE --- */
        .timeline-container {
            position: relative;
            padding: 20px 0;
            margin-top: 20px;
            padding-bottom: 50px; 
        }
        
        .timeline-container::before {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 2px;
            background: repeating-linear-gradient(to bottom, #d81b60 0, #d81b60 5px, transparent 5px, transparent 10px);
            transform: translateX(-50%);
        }

        .event {
            position: relative;
            width: 42%;
            margin-bottom: 30px;
            background: rgba(255, 255, 255, 0.9);
            padding: 15px;
            border-radius: 15px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            border: 1px solid #ffc2d1;
        }

        .event:nth-child(odd) { left: 0; text-align: right; }
        .event:nth-child(even) { left: 54%; text-align: left; }

        .date {
            font-family: 'Dancing Script', cursive;
            font-size: 1.5rem;
            color: var(--accent-color);
        }

        /* --- EMOJI & BUTTONS --- */
        #emoji-container {
            height: 80px; 
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 10px;
        }

        #emoji-display {
            font-size: 4rem;
            transition: transform 0.2s;
            cursor: default;
        }

        .btn {
            background-color: var(--accent-color);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 50px;
            font-family: 'Quicksand', sans-serif;
            font-weight: 700;
            font-size: 1.2rem;
            cursor: pointer;
            margin-top: 15px;
            transition: transform 0.2s, background 0.2s;
            box-shadow: 0 5px 15px rgba(216, 27, 96, 0.3);
        }

        .btn:hover {
            transform: scale(1.1);
            background-color: #ad1457;
        }

        .mcq-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }

        #no-btn {
            background-color: #9e9e9e;
            box-shadow: none;
        }

        .romantic-text {
            font-family: 'Dancing Script', cursive;
            font-size: 2.2rem;
            margin-top: 20px;
            color: #d81b60;
        }

        @keyframes popIn {
            from { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
            to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
        }

        .floating-heart {
            position: absolute;
            color: #d81b60;
            animation: floatUp 5s linear infinite;
            opacity: 0;
            font-size: 2rem;
            z-index: 100;
        }

        @keyframes floatUp {
            0% { transform: translateY(110vh) scale(0.5) rotate(0deg); opacity: 1; }
            100% { transform: translateY(-10vh) scale(1.5) rotate(360deg); opacity: 0; }
        }

        h1 { font-family: 'Dancing Script', cursive; color: #ad1457; font-size: 2.8rem; margin: 10px 0; }
        p { font-size: 1.1rem; }
    </style>
</head>
<body>

    <div class="bg-pattern" id="bg-pattern"></div>

    <div id="envelope-wrapper" onclick="openEnvelope()">
        <div class="envelope-container">
            <div class="envelope" id="envelope">
                <div class="paper-preview">For You <br> ‚ù§</div>
                <div class="envelope-pocket"></div>
                <div class="flap"></div>
            </div>
        </div>
        <div class="click-text">Click to open</div>
    </div>

    <div id="screen-journey" class="screen">
        <h1>Our Journey</h1>
        <p style="font-style: italic;">Every step led me to you...</p>
        
        <div class="timeline-container">
            <div class="event">
                <div class="date">The Noticing Game</div>
                <p>Two strangers in a house party, I noticed you everytime while you just didn't know that our paths would cross like this.</p>
                <img src="party.jpeg" alt="Memory" style="width: 100%; border-radius: 10px; margin-top: 10px;">

            </div>
            
            <div class="event">
                <div class="date">Proxy Games</div>
                <p>Those classes in which I would feel sad whenever you didnt come and I had to mark your proxy. Honestly, us meeting is the only good thing SEC ever did.</p>
                <img src="secBoon.jpeg" alt="Memory" style="width: 100%; border-radius: 10px; margin-top: 10px;">
            </div>

            <div class="event">
                <div class="date">The First Dinner</div>
                <p>From classroom to your room, this dinner changed my life for good. Dinner turned into long conversations and eventually your makeup and the questions: Shall I pursue my feelings for you?</p>
                <img src="makeup.jpeg" alt="Memory" style="width: 100%; border-radius: 10px; margin-top: 10px;">
            </div>
            
            <div class="event">
                <div class="date">The Trouble</div>
                <p>The moment I knew I was in trouble... in the best way possible. I am in love and I dont know if you feel the same. Fuck it, Pyaari toh tu hai.</p>
                <img src="favorite.jpeg" alt="Memory" style="width: 100%; border-radius: 10px; margin-top: 10px;">
            </div>
            
            <div class="event">
                <div class="date">No Longer "Just Friends"</div>
                <p>Did we just actually do this? Did we actually kiss? Really? What? Why is my hearting beating so fast that it might jump out of my mouth?</p>
                <img src="tacoBell.jpeg" alt="Memory" style="width: 100%; border-radius: 10px; margin-top: 10px;">
            </div>

            <div class="event">
                <div class="date">Your Birthday</div>
                <p>CELEBRATED YOUR BIRTHDAY! YAY! Had to bear with Jiya and lalit but it was worth it seeing you so happy in the end. Probably could have put more efforts into it.</p>
                <img src="Birthday.jpeg" alt="Memory" style="width: 100%; border-radius: 10px; margin-top: 10px;">
            </div>

            <div class="event">
                <div class="date">Finally Proposed</div>
                <p>Yes I took all the time in the world but i am guessing it was worth it?.</p>
                <img src="Lift.jpeg" alt="Memory" style="width: 100%; border-radius: 10px; margin-top: 10px;">
            </div>

            <div class="event">
                <div class="date">New Year With My Love</div>
                <p>I finally had my first ever New Year's Kiss, YAYAYAYAY!. Going into the new year with the person I love the most was all I needed.</p>
                <img src="cetenary.jpeg" alt="Memory" style="width: 100%; border-radius: 10px; margin-top: 10px;">
            </div>

            <div class="event">
                <div class="date" id="todays-date">PRESENT</div>
                <p>Loving you more with every single heartbeat. And we are just getting started.</p>
            </div>
        </div>
        
        <button class="btn" onclick="switchScreen('screen-journey', 'screen-letter', event)">Next Chapter ‚ûî</button>
    </div>

    <div id="screen-letter" class="screen">
        <h1>My Heart...</h1>
        <div style="text-align: left; padding: 0 10px;">
            <p>My Dearest,</p>
            <p>
Listen to me closely because I need you to really hear this. First of all, I miss you a truckload, nah, I miss you a universe-load, and even that feels like an understatement. You say all those things about me, about what you see in me and why you like me, but do you have any idea what I see when I look at you? I see everything. I see the only thing that matters.
            </p>
            <p>
                You sometimes ask why I treat you the way I do? It‚Äôs because you don't just deserve 'princess treatment,' you deserve to be treated like an absolute Queen every single day of your life. You are my home. You are my peace. When I‚Äôm with you, the noise of the world just stops. You make me feel powerful and soft at the same time, and I honestly don't know how I functioned before you walked into my life.
            </p>
            <p>
I so want to do all my dream lovey stuff with you like: Dancing in the kitchen, the dates, building a family, growing old together? No, I don‚Äôt just ‚Äòwant‚Äô that. I need that. I have that entire future playing in my head on a loop. I want to be that couple everyone looks at and says, 'Yeah, they were meant to be.' I want to wake up next to you every morning and realize, 'She‚Äôs mine.'
            </p>
            <p>
                And let‚Äôs be real for a second, the chemistry? It‚Äôs not just physical it‚Äôs something beyond that. It‚Äôs mind-blowing because it‚Äôs with you. You drive me absolutely wild. I am obsessed with your mind, your body, your laugh, your drama, literally everything. You said you are mine to love and mine to fuck. And I am holding you to that. There is no escape route now. You are stuck with me.
            </p>
            <p>
                You said you dont want to be 'Deepashi Manro'? Well, I intend to make sure that happens. But before we get to forever, let's start with right now. Since you‚Äôre already mine, and since I am completely, madly in love with you...
            </p>
            <br>
        </div>
        <button class="btn" onclick="switchScreen('screen-letter', 'screen-question', event)">Turn Page ‚ûî</button>
    </div>

    <div id="screen-question" class="screen flex-center-content">
        
        <div id="emoji-container">
            <div id="emoji-display">üòä</div>
        </div>

        <h1>Will you be my Valentine‚ù§Ô∏è~?</h1>
        
        <div class="mcq-container">
            <button class="btn" onclick="handleYes()">DEFINITELY YES!</button>
            <button class="btn" id="no-btn" onmouseover="moveNoButton()" onclick="moveNoButton()">no.</button>
        </div>
    </div>

    <div id="screen-success" class="screen flex-center-content">
        <h1 style="font-size: 3rem;">I knew you couldn't resist me. ehe~</h1>
        <p style="font-size: 1.8rem; color: #d81b60; font-weight: bold;">I love you more~ ‚ù§</p>
        
        <p class="romantic-text">See you on the 14th üåπ</p>
    </div>

    <script>
        // --- 1. GENERATE HEAVY BACKGROUND PATTERN ---
        const icons = ['‚ù§', 'üåπ', 'üç∑', 'üç∞', 'üíå', 'üå∏', 'üéÄ'];
        const bgContainer = document.getElementById('bg-pattern');
        const density = 100;

        for (let i = 0; i < density; i++) {
            const icon = document.createElement('div');
            icon.classList.add('bg-icon');
            icon.innerText = icons[Math.floor(Math.random() * icons.length)];
            icon.style.left = Math.random() * 100 + 'vw';
            icon.style.top = Math.random() * 100 + 'vh';
            icon.style.transform = `rotate(${Math.random() * 360}deg)`;
            icon.style.fontSize = (Math.random() * 2 + 1.5) + 'rem';
            icon.style.opacity = Math.random() * 0.3 + 0.1;
            bgContainer.appendChild(icon);
        }

        // --- 2. DATES ---
        const today = new Date();
        document.getElementById('todays-date').innerText = "PRESENT: " + today.toLocaleDateString();

        // --- 3. NAVIGATION ---
        function openEnvelope() {
            document.getElementById('envelope').classList.add('open');
            setTimeout(() => {
                document.getElementById('envelope-wrapper').style.display = 'none';
                document.getElementById('screen-journey').classList.add('active');
            }, 1000);
        }

        function switchScreen(hideId, showId, event) {
            if (event) event.stopPropagation(); // Stop click from bubbling (safety)
            document.getElementById(hideId).classList.remove('active');
            document.getElementById(hideId).style.display = 'none';
            
            const showEl = document.getElementById(showId);
            showEl.style.display = 'block'; 
            
            if (showId === 'screen-question' || showId === 'screen-success') {
                showEl.classList.add('flex-center-content');
            }
            
            showEl.classList.add('active');
        }

        // --- 4. ANGRY EMOJI LOGIC WITH DELAY ---
        const emojiDisplay = document.getElementById('emoji-display');
        const phases = ['üòä', 'ü§®', 'üò†', 'üò°', 'ü§¨', 'üí•'];
        let phaseIndex = 0;
        let isAnimating = false;

        function moveNoButton() {
            const btn = document.getElementById('no-btn');
            const container = document.getElementById('screen-question');
            
            const containerRect = container.getBoundingClientRect();
            const btnRect = btn.getBoundingClientRect();
            
            const maxX = containerRect.width - btnRect.width - 60;
            const maxY = containerRect.height - btnRect.height - 60;

            const randomX = Math.random() * maxX;
            const randomY = Math.random() * maxY;

            btn.style.position = 'absolute';
            btn.style.left = Math.max(20, randomX) + 'px';
            btn.style.top = Math.max(150, randomY) + 'px';
            btn.style.margin = '0';

            if (!isAnimating) {
                isAnimating = true;
                setTimeout(() => {
                    if (phaseIndex < phases.length - 1) {
                        phaseIndex++;
                        emojiDisplay.innerText = phases[phaseIndex];
                    } else {
                        emojiDisplay.innerText = 'üí•';
                        setTimeout(() => { emojiDisplay.style.visibility = 'hidden'; }, 500);
                    }
                    isAnimating = false;
                }, 200);
            }
        }

        // --- 5. SUCCESS ANIMATION ---
        function handleYes() {
            switchScreen('screen-question', 'screen-success');
            
            const container = document.getElementById('screen-success');
            setInterval(() => {
                const heart = document.createElement('div');
                heart.classList.add('floating-heart');
                heart.innerText = '‚ù§';
                heart.style.left = Math.random() * 100 + '%';
                container.appendChild(heart);
                setTimeout(() => heart.remove(), 5000);
            }, 200);
        }
    </script>
</body>
</html>